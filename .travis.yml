language: python
python: 
  - "2.6"
  - "2.7"
  - "3.3"
  - "pypy"
services:
  - mongodb
virtualenv:
  system_site_packages: true
before_instal:
  - apt-get install python-sphinx
  - apt-get install libfreetype6-dev
install: "pip install -r requirements.txt"
script:
  - nosetests --with-coverage -v --nocapture webapp/start.py lib/*.py modules/*/*.py core/*.py
  - ls -al
  - sphinx-build -b html -d docs/_build/doctrees docs docs/_build/html
after_success:
  - coveralls
matrix:
  allow_failures:
    - python: "3.3"
    - python: "pypy"
